name: Bug report
description: Report a bug or unexpected behaviour
labels: [bug, needs-triage]
body:
  - type: markdown
    attributes:
      value: |
        Thanks for taking the time to report a bug! Please fill out the form below as completely as possible.

  - type: input
    id: reproduction
    attributes:
      label: Reproduction
      description: >
        A link to a minimal reproduction (GitHub repo, CodeSandbox, StackBlitz, etc.).
        Bug reports without a reproduction are unlikely to be prioritised.
      placeholder: https://github.com/...
    validations:
      required: false

  - type: textarea
    id: description
    attributes:
      label: Describe the bug
      description: A clear and concise description of what the bug is.
    validations:
      required: true

  - type: textarea
    id: steps
    attributes:
      label: Steps to reproduce
      description: Ordered list of steps that reliably reproduce the issue.
      placeholder: |
        1. Create a `RealtimeProvider` with ...
        2. Call `usePresence` with ...
        3. Observe that ...
    validations:
      required: true

  - type: textarea
    id: expected
    attributes:
      label: Expected behaviour
      description: What did you expect to happen?
    validations:
      required: true

  - type: textarea
    id: actual
    attributes:
      label: Actual behaviour
      description: What actually happened? Include any error messages or stack traces.
    validations:
      required: true

  - type: dropdown
    id: packages
    attributes:
      label: Affected package(s)
      multiple: true
      options:
        - '@tanstack/realtime'
        - '@tanstack/react-realtime'
        - '@tanstack/realtime-preset-node'
    validations:
      required: true

  - type: input
    id: version
    attributes:
      label: Package version(s)
      placeholder: e.g. 0.1.0
    validations:
      required: true

  - type: textarea
    id: environment
    attributes:
      label: Environment
      description: Node.js version, browser, OS, bundler, etc.
      placeholder: |
        Node.js: 22.x
        Browser: Chrome 124
        OS: macOS 14
        Bundler: Vite 5
    validations:
      required: false
